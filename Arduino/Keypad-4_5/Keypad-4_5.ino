const int analogPin = A0;  // پین آنالوگ برای خواندن ولتاژ

// تعریف ولتاژهای متناظر با هر دکمه
const int buttonValues[20] = {
  0,     // دکمه 1
  100,   // دکمه 2
  200,   // دکمه 3
  300,   // دکمه 4
  400,   // دکمه 5
  500,   // دکمه 6
  600,   // دکمه 7
  700,   // دکمه 8
  800,   // دکمه 9
  900,   // دکمه 10
  1000,  // دکمه 11
  1100,  // دکمه 12
  1200,  // دکمه 13
  1300,  // دکمه 14
  1400,  // دکمه 15
  1500,  // دکمه 16
  1600,  // دکمه 17
  1700,  // دکمه 18
  1800,  // دکمه 19
  1900   // دکمه 20
};

void setup() {
  Serial.begin(9600);
}

void loop() {
  int analogValue = analogRead(analogPin);  // خواندن ولتاژ آنالوگ

  // تشخیص دکمه فشار داده شده
  for (int i = 0; i < 20; i++) {
    if (abs(analogValue - buttonValues[i]) < 50) {  // اختلاف مجاز 50
      Serial.print("Button pressed: ");
      Serial.println(i + 1);
      delay(500);  // تأخیر برای جلوگیری از تشخیص چندگانه
    }
  }
}